(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3123)}])},3123:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(4848),n=s(6540),r=s(4335);let i=e=>{let{onBookingSuccess:t}=e,[s,i]=(0,n.useState)({date:"",time:"",guests:"",name:"",contact:""}),[l,o]=(0,n.useState)({}),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1),h=e=>{i({...s,[e.target.name]:e.target.value})},x=async()=>{try{let e=await r.A.get("http://localhost:3001/api/availability",{params:{date:s.date}});d(e.data),m(!0)}catch(e){console.error("Error fetching availability:",e),d([]),m(!0)}},j=async e=>{e.preventDefault();let a={};if(s.date||(a.date="Date is required"),s.time||(a.time="Time is required"),s.guests||(a.guests="Number of guests is required"),s.name||(a.name="Name is required"),s.contact||(a.contact="Contact information is required"),Object.keys(a).length>0){o(a);return}try{let e=await r.A.post("http://localhost:3001/api/bookings",s);t(e.data)}catch(e){console.error("Error booking table:",e)}};return(0,a.jsxs)("form",{onSubmit:j,className:"booking-form",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"date",children:"Date:"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",value:s.date,onChange:h}),l.date&&(0,a.jsx)("span",{className:"error",children:l.date})]}),(0,a.jsx)("button",{type:"button",onClick:x,children:"Check Availability"}),u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"time",children:"Time:"}),(0,a.jsxs)("select",{id:"time",name:"time",value:s.time,onChange:h,children:[(0,a.jsx)("option",{value:"",children:"Select Time"}),c.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),l.time&&(0,a.jsx)("span",{className:"error",children:l.time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"guests",children:"Number of Guests:"}),(0,a.jsx)("input",{type:"number",id:"guests",name:"guests",value:s.guests,onChange:h}),l.guests&&(0,a.jsx)("span",{className:"error",children:l.guests})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:s.name,onChange:h}),l.name&&(0,a.jsx)("span",{className:"error",children:l.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contact",children:"Contact:"}),(0,a.jsx)("input",{type:"text",id:"contact",name:"contact",value:s.contact,onChange:h}),l.contact&&(0,a.jsx)("span",{className:"error",children:l.contact})]}),(0,a.jsx)("button",{type:"submit",children:"Book Table"})]})},l=e=>{let{bookingData:t}=e;return(0,a.jsxs)("div",{className:"booking-summary",children:[(0,a.jsx)("h2",{children:"Booking Confirmed!"}),(0,a.jsxs)("p",{children:["Thank you, ",t.name,", for your reservation."]}),(0,a.jsxs)("div",{className:"summary-details",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Date:"})," ",t.date]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Time:"})," ",t.time]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Number of Guests:"})," ",t.guests]})]}),(0,a.jsx)("p",{children:"We look forward to seeing you soon!"})]})};function o(){let[e,t]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null);return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:"Restaurant Table Booking"}),!e&&(0,a.jsx)(i,{onBookingSuccess:e=>{t(!0),r(e)}}),e&&(0,a.jsx)(l,{bookingData:s})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[335,636,593,792],()=>t(7276)),_N_E=e.O()}]);